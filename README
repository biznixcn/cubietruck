ABOUT
=====

Script(s)/configs to generate a SD Card Image containing a custom OS
which would run a Cubietruck :). Check out "support status" section
for what's working and what isn'nt.

MOTIVATION:
===========

I am building a NAS using ARM based board (Cubietruck/Cubieboard3).
Therefore I needed a custom kernel and custom rootfs packaged into 
a custom SD Card image. These usually requires a lot of commands to
type in and is time consuming. I wanted to reduce this as much and
focus on tweaking/building an images to suit the objectives of my
projects. This project aims to reduce repetitions to the bare minimun 
and get a predictable build in the process :)
 
SUPPORT STATUS
=====================

Description                      |SD Card         |Details
:--------------------------------|:---------------|:--------------
NAND support                     | NA             |
SD card support                  | Working        |
Distribution Ubuntu 12.04 LTS    | -              |
 Ubuntu Core 12.04 LTS           | Not working    |
 Linaro Nano                     | Working        |
OR Distribution Debian Wheezy    | Not working    |
OpenSSH server                   | Not working    |
Custom packages support          | Working        |
NTP                              | -              |
->ntpd                           | Working        |
Ethernet support                 | -              |
->DHCP IP                        | Working        | custom/rootfs/etc/network/interfaces
->Sunxi-GMAC driver support      | Working        |
-->Driver loaded at startup      | Working        | custom/rootfs/etc/modules
-->Static MAC address on boot    | Working        | custom/rootfs/etc/network/interfaces
->Sunxi-EMAC driver support      | NA             |
-->Driver loaded at startup      | NA             |
-->Static MAC address on boot    | NA             |
Wifi support                     | -              |
->??? driver support	         | Not working    | 
-->Driver loaded at startup      | Not working    |
-->Static MAC address on boot    | Not working    |
->DHCP IP                        | Not working    |
SATA support                     | Not working    |  
ZFS support                      | Not working    |
ZFS Raid Z support               | Not working    |
3D MALI support                  | Not working    |
CedarX acclerated video	         | Not working    |
Bluetooth support                | Not working    |
Hardware sensor support          | -              |
-> CPUFreq                       | Working        | 
--> Default governor at startup  | ondemand       | custom/rootfs/etc/default/cpufrequtils

INSTALLATION:
=============

TLDR:

 bash build-sdcardimage.sh

For the other ones:

Setup pre-requisites:

 bash prerequisites.sh

Build image(s):
 
 SD Image:
 bash build-kernel-bootloader.sh

DOCUMENTATION
=============

Files are documented.

SOURCE
======

Main source repository: https://github.com/davidandreoletti/cubietruck


REQUIREMENTS
============

Succesfully tested on Ubuntu 12.04 LTS 

CONTRIBUTORS:
=============

If you would like to contribute, feel free to do so.

AUTHOR
======

David Andreoletti <http://davidandreoletti.com> - Original author

THANKS
======

REFERENCES
==========

Those are references I used to get to some of the objectives

http://cubieboard.org - Initial documentation for building a custom kernel/SD image/NAND image - Cubieboard makers :)
http://dl.cubieboard.org/public/users/soloforce/Construct_Your_Own_Debian_Linux_for_CubieBoard_zh-new.pdf - 
https://github.com/equinoxorg/eko_client/wiki/Creating-a-Redeployable-SD-Card-Image - How to partition a block device
https://github.com/codeshredder/cubieboard2 - Miccelleanous documentation about Cubieboard.
https://github.com/shmily/Cubieboard - Cubieboard Image build
http://eewiki.net/display/linuxonarm/BeagleBoard - Mics Kernel/SD Image creation 
http://www.denx.de/wiki/view/DULG/UBootVersions - u-boot official documentation
http://wiki.osdev.org/Loopback_Device#Hard_Disk_Images - Loop back devices in a nutshell
http://tinyapps.org/docs/mount_partitions_from_disk_images.html - Mount partitions from disk images
http://bill.station51.net/index.php?post/2010/01/30/HOWTO:-Booting-from-SD-card-using-U-Boot - Booting from SD Card with U-Boot
http://wiki.openmoko.org/wiki/U-Boot_commands - U-Boot command from the Openmoko project
http://www.cubieforums.com/index.php?topic=229.0 - Supported partition, partition size and offset
http://unix.stackexchange.com/questions/25258/ttyusb0-permission-changes-after-restart - Set permanent write permission on ttyUSB
https://github.com/mpepping/osx-pl2303 - Open Source OSX driver for Prolific PL2303 serial to USB adapters
http://www.prolific.com.tw - Proprietary driver for Prolific PL2303 serial to USB adapters
 - I used this one on OSX 

MAC address
-----------
http://www.denx.de/wiki/view/DULG/WhereCanIGetAValidMACAddress - Get Locally Administrated MAC address

Wifi
----
http://bernaerts.dyndns.org/linux/74-ubuntu/230-ubuntu-setup-wifi-commandline

http://www.cubieboard.cmabreu.com.br/
http://linux-sunxi.org/A20-Cubietruck
http://packages.ubuntu.com/lucid/ubuntu-minimal
http://www.solid-run.com/mw/index.php/Ubuntu_Core
http://wiki.dave.eu/index.php/Running_Ubuntu_Core
https://github.com/DavidBercovitz/ubuntu-core/blob/master/ubuntuCoreSetup.sh
https://help.ubuntu.com/community/Repositories/Ubuntu
http://www.omappedia.com/wiki/OMAP_Ubuntu_Core
https://launchpad.net/ubuntu/precise/armhf
http://forum.doozan.com/read.php?6,8491
http://old-releases.ubuntu.com/releases/ubuntu-core/releases/12.04.0/release/
http://snapshots.linaro.org/ubuntu/images/server/553
https://github.com/cubiebook/cubiebook

http://sigpipe.me/?p=10 - Cedar X 
http://www.memetic.org/raspbian-benchmarking-armel-vs-armhf/
http://hands.com/~lkcl/allwinner_linux_proposal.txt
https://github.com/hramrach/linux-sunxi
http://elinux.org/images/a/ad/Arm-soc-checklist.pdf
http://www.cnx-software.com/development-kits/linux-development-boards/
http://forum.doozan.com/read.php?6,10087

Rootfs customization
--------------------
http://omappedia.org/wiki/OMAP_Ubuntu_Core

AllWinner's linux kernel and current attempts to get their changes in mainline kernel 
--------------------------------------------------------------------------------------
http://linux-sunxi.org/Mainline_Kernel_Howto - AllWinner Community trying to get linux-sunxi work into the mainline kernel
http://lwn.net/Articles/554822/ - Merging Allwinner support
http://lists.debian.org/debian-arm/2013/06/msg00009.html - Thread about how to convince (among others topic related to Allwinner) Allwinner to merge their kernel work in mainline kernel 

NTP
---
http://derekmolloy.ie/automatically-setting-the-beaglebone-black-time-using-ntp/ - Set NTP
https://wiki.gentoo.org/wiki/Localization/HOWTO
http://ubuntuforums.org/showthread.php?t=862620 - test ntp

ALTERNATIVES
============

https://github.com/EddyBeaupre/armStrap - Well polished scripts yet not customizable enough for my needs (custom kernel repo to compile from for instance)
